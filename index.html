<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sign Up / Sign In</title>
</head>
<body>

  <h2>Sign Up</h2>
  <form id="signupForm">
    <input type="text" id="signupUsername" placeholder="Username" required>
    <input type="password" id="signupPassword" placeholder="Password" required>
    <button type="submit">Sign Up</button>
  </form>

  <h2>Sign In</h2>
  <form id="signinForm">
    <input type="text" id="signinUsername" placeholder="Username" required>
    <input type="password" id="signinPassword" placeholder="Password" required>
    <button type="submit">Sign In</button>
  </form>

  <div id="message"></div>

  <script>
    // Sign Up
    document.getElementById("signupForm").onsubmit = function(e) {
      e.preventDefault();

      const xhr = new XMLHttpRequest();
      xhr.open("POST", "signup.php", true);
      xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

      const username = document.getElementById("signupUsername").value;
      const password = document.getElementById("signupPassword").value;

      xhr.onload = function() {
        document.getElementById("message").innerText = xhr.responseText;
      };

      xhr.send("username=" + encodeURIComponent(username) + "&password=" + encodeURIComponent(password));
    };

    // Sign In
    document.getElementById("signinForm").onsubmit = function(e) {
    e.preventDefault();

    const xhr = new XMLHttpRequest();
    xhr.open("POST", "signin.php", true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

    const username = document.getElementById("signinUsername").value;
    const password = document.getElementById("signinPassword").value;

    xhr.onload = function() {
      const messageDiv = document.getElementById("message");

      if (xhr.responseText.trim() === "SUCCESS") {
        messageDiv.innerText = "Login successful! Redirecting to slot machine...";
        setTimeout(function() {
          window.location.href = "slotmachine.html"; // Your slot game page
        }, 3000);
      } else {
        messageDiv.innerText = xhr.responseText;
      }
    };

    xhr.send("username=" + encodeURIComponent(username) + "&password=" + encodeURIComponent(password));
  };
</script>

</body>
</html>
